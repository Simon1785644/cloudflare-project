DROP TABLE IF EXISTS user_roles;
DROP TABLE IF EXISTS users;
DROP TABLE IF EXISTS roles;
DROP TABLE IF EXISTS products;
DROP TABLE IF EXISTS orders;

CREATE TABLE IF NOT EXISTS roles (id INTEGER PRIMARY KEY, access VARCHAR(10), createdAt DATETIME, updatedAt DATETIME);
INSERT INTO roles (id, access, createdAt, updatedAt) VALUES (1, 'user', '2023-11-10 18:09:14.000', '2023-11-10 18:09:14.000');
INSERT INTO roles (id, access, createdAt, updatedAt) VALUES (2, 'admin', '2023-11-10 18:09:14.000', '2023-11-10 18:09:14.000');

CREATE TABLE IF NOT EXISTS users (id INTEGER PRIMARY KEY AUTOINCREMENT, userId VARCHAR(64), username VARCHAR(128) UNIQUE NOT NULL, email VARCHAR(128) UNIQUE NOT NULL, password VARCHAR(128) NOT NULL, isAdmin TYNYINT(1), createdAt DATETIME, updatedAt DATETIME);
INSERT INTO users (id, userId, username, email, password, isAdmin, createdAt, updatedAt) VALUES (1, '0296d4a5aef43927e9e4ca1914dc4cd0', 'Martin', 'a@example.com', '$2b$10$HZDSJa1cu.snLlyi6CDDc.MALfjwOQg3sRggWEPHXyoyMy1pC.WDS', 1, '2023-11-10 18:11:57.000', '2023-11-10 18:11:57.000'), 
(2, 'cf08ec2afb6a3de1b8c13ff807a74f85', 'Kimberley', 'b@example.com', '$2b$10$GpBJ.IdHTkGck6xZeAh8lOtMyKWKOxqACyeWiBDHdGNyjKnhDIRDq', 0, '2023-11-10 18:13:16.000', '2023-11-10 18:13:16.000');

CREATE TABLE IF NOT EXISTS user_roles (roleId INTEGER PRIMARY KEY, userId INTEGER, createdAt DATETIME, updatedAt DATETIME, 
FOREIGN KEY (userId) REFERENCES users(id) ON DELETE CASCADE ON UPDATE CASCADE);
INSERT INTO user_roles (roleId, userId, createdAt, updatedAt) VALUES (1, 1, '2023-11-10 18:13:16.000', '2023-11-10 18:13:16.000'), 
(2, 2, '2023-11-10 18:11:57.000', '2023-11-10 18:11:57.000');

CREATE TABLE IF NOT EXISTS products (id INTEGER PRIMARY KEY, gtin VARCHAR(64) UNIQUE NOT NULL, category VARCHAR(64), type VARCHAR(64),
title VARCHAR(128), image VARCHAR(1024), creator VARCHAR(64), description VARCHAR(4096) DEFAULT 'None' NOT NULL,
spec VARCHAR(255) DEFAULT 'None', stock SMALLINT DEFAULT 0 NOT NULL, ratings FLOAT(10) DEFAULT 0, listprice INTEGER NOT NULL, 
discount INTEGER DEFAULT 0 NOT NULL, popularItem TINYINT(1) DEFAULT 0 NOT NULL, comments INTEGER DEFAULT 0 NOT NULL,
createdAt DATETIME, updatedAt DATETIME);
INSERT INTO `products` VALUES
(1,'978-0241316757','Books','Politics','Origins Of Totalitarianism','https://m.media-amazon.com/images/I/81JZJ0elZ1L._SL1500_.jpg','Hannah Arendt','The Origins of Totalitarianism begins with the rise of anti-Semitism in central and western Europe in the 1800s and continues with an examination of European colonial imperialism from 1884 to the outbreak of World War I. Arendt explores the institutions and operations of totalitarian movements, focusing on the two genuine forms of totalitarian government in our time—Nazi Germany and Stalinist Russia—which she adroitly recognizes were two sides of the same coin, rather than opposing philosophies of Right and Left. From this vantage point, she discusses the evolution of classes into masses, the role of propaganda in dealing with the nontotalitarian world, the use of terror, and the nature of isolation and loneliness as preconditions for total domination.','Print length:703 pages Language:English Publisher: Penguin Modern Classics',20,4.6,485,0,0,701,'2023-10-12 20:40:50','2023-10-12 20:40:50'),
(2,'978-0545162074','Books','Fiction','Harry Potter Paperback Box Set (Books 1-7)','https://m.media-amazon.com/images/I/51v0gkGIaKL._SL1200_.jpg','J. K. Rowling','Now for the first time ever, J.K. Rowling’s seven bestselling Harry Potter books are available in a stunning paperback boxed set! The Harry Potter series has been hailed as “one for the ages” by Stephen King and “a spellbinding saga’ by USA Today. And most recently, The New York Times called Harry Potter and the Deathly Hallows the “fastest selling book in history.” This is the ultimate Harry Potter collection for Harry Potter fans of all ages!','Print length:4167\npages Language:English\nPublisher:Scholastic Inc.',37,4.9,3710,20,0,11034,'2023-10-12 20:49:30','2023-11-10 16:31:12'),
(3,'978-1119796763','Books','ComputerScience','Artificial Intelligence For Dummies','https://m.media-amazon.com/images/I/81KieAp28yL._SL1500_.jpg','John Paul Mueller','Every time you use a smart device or some sort of slick technology―be it a smartwatch, smart speaker, security alarm, or even customer service chat box―you’re engaging with artificial intelligence (AI). If you’re curious about how AI is developed―or question whether AI is real―Artificial Intelligence For Dummies holds the answers you’re looking for. Starting with a basic definition of AI and explanations of data use, algorithms, special hardware, and more, this reference simplifies this complex topic for anyone who wants to understand what operates the devices we can’t live without.','Print length:368 pages\nLanguage:English\nPublisher:For Dummies',40,4.1,950,5,1,45,'2023-10-12 20:57:05','2023-10-18 11:15:43'),
(4,'883929704736','Videos','Blu-ray','The Lord of the Rings: The Motion Picture Trilogy (Extended & Theatrical)(4K Ultra HD + Digital)','https://m.media-amazon.com/images/I/71h7HHb9lIL._SL1500_.jpg',NULL,'This critically acclaimed epic trilogy follows the quest undertaken by the hobbit, Frodo Baggins, and his fellowship of companions to save Middle-earth by destroying the One Ring and defeating the evil forces of the Dark Lord Sauron.','Media Format:NTSC,4K\nLanguage:English\nStudio:Warner Bros.',10,4.8,3800,20,0,37000,'2023-10-12 21:17:39','2023-11-02 22:04:06'),
(5,'LGT46573BR','Videos','Blu-ray','John Wick','https://m.media-amazon.com/images/I/71TPtV8DDVL._SL1393_.jpg',NULL,'When sadistic young thugs senselessly attack John Wick - a brilliantly lethal ex-assassin - they have no idea that they have just awakened the boogeyman. With New York City as his bullet-riddled playground, Wick embarks on a merciless rampage, hunting down his adversaries with the skill and ruthlessness that made him an underworld legend.','Language:English\nSubtitles:English, Spanish\nStudio:Lionsgate Home Entertainment',40,4.8,660,0,0,105381,'2023-10-12 22:01:26','2023-10-18 11:47:37'),
(6,'B06XXCTXX1','Videos','Blu-ray','John Wick: Chapter 2 - 4K Ultra Hd [Blu-ray] [4K UHD]','https://m.media-amazon.com/images/I/71UmgeXe96L._SL1500_.jpg',NULL,'John Wick is forced out of retirement, and this time, he must face off against a shadowy international assassin′s guild and more of the world′s deadliest killers.','Language:English\nSubtitles:Spanish, English\nStudio:Lions Gate Home Entertainment\nTotal discs:2',3,4.8,660,0,0,17316,'2023-10-13 16:33:18','2023-10-18 11:47:49'),
(7,'B07QN8PDKL','Videos','Blu-ray','John Wick: Chapter 3 – Parabellum [Blu-ray]','https://m.media-amazon.com/images/I/81hIplQ7rQL._SL1500_.jpg',NULL,'Super assassin John Wick is on the run after killing a member of the international assassin′s guild, and with a $14 million price tag on his head he is the target of hit men and women everywhere.',' Run time:2h11m\nLanguage:English\nSubtitles:Spanish, English\nStudio:Lionsgate\nTotal discs:2',12,4.8,480,0,0,21000,'2023-10-13 16:37:08','2023-10-18 11:48:04'),
(8,'B0BZ5C5XNJ','Videos','Blu-ray','John Wick: Chapter 4 [Blu-ray]','https://m.media-amazon.com/images/I/81J1DaRKzUL._SL1500_.jpg',NULL,'Super assassin John Wick is on the run after killing a member of the international assassin′s guild, and with a $14 million price tag on his head he is the target of hit men and women everywhere.','MPAA rating:Restricted\nRun time:2h49m\nLanguage:English\nSubtitles:English\nStudio:Lionsgate Home Entertainment\nTotal discs:2',12,4.6,660,0,1,40319,'2023-10-13 16:41:00','2023-11-05 13:35:18'),
(9,'4710756122456','Videos','Blu-ray','Dungeons & Dragons: Honor Among Thieves (BD)','https://m.media-amazon.com/images/I/813oHCxIbfL._SL1500_.jpg',NULL,'A charming thief and a band of unlikely adventurers embark on an epic quest to retrieve a lost relic, but things go dangerously awry when they run afoul of the wrong people.','MPAA rating:PG-13\nRun time:2h14m\nLanguage:English,Spanish, French\nSubtitles:English\nStudio:PARAMOUNT\nTotal disc:1',42,4.4,960,0,1,18973,'2023-10-19 19:04:39','2023-10-19 19:04:39'),
(10,'9789861755267','Books','Psychology','原子習慣','https://s2.eslite.dev/unsafe/fit-in/x900/s.eslite.dev/upload/product/o/2681759319001/ec1760858.jpg','詹姆斯．克利爾','假如你也正想著擺脫自己偷懶的惡習、邁向更理想的人生，不妨跟著編輯讀《原子習慣》，從下列筆記三大點，快速瀏覽暢銷書《原子習慣》有效實踐的秘密！','ISBN13:9789861755267\nPrint length:304\nLanguage:繁體中文\nPublisher:方智出版社股份有限公司\nPublication date:2019/06/01',19,4.1,330,20,1,50731,'2023-10-19 19:25:48','2023-10-19 19:25:48'),
(11,'978-0358439196','Books','Fiction','The Lord of the Rings 3-Book Paperback Box Set','https://m.media-amazon.com/images/I/61cP8-CI40L._SL1500_.jpg','J.R.R. Tolkien','Tolkien’s The Lord of the Rings continues to seize the imaginations of readers of all ages, and this three-volume paperback edition is designed to appeal to all. This three-book paperback set is a perfect way to share the pleasures of Tolkien’s peerless fantasy.','ISBN13:978-0358439196\nPrint length:1536\nLanguage:English\nPublisher:Clarion Books\nPublication date:2020/11/03',109,4.8,1050,45,1,8736,'2023-11-05 08:18:05','2023-11-05 08:18:05');

CREATE TABLE IF NOT EXISTS orders (id INTEGER PRIMARY KEY, userId VARCHAR(64) NOT NULL DEFAULT 'None', 
orderId VARCHAR(64) NOT NULL DEFAULT 'None', purchaseItem TEXT, totalprice INTEGER DEFAULT 0, 
status VARCHAR(64) NOT NULL DEFAULT 'Pending', options TEXT, note VARCHAR(1024) NOT NULL DEFAULT 'None', createdAt DATETIME, updatedAt DATETIME);
